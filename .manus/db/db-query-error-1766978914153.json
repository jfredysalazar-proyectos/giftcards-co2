{
  "query": "CREATE TABLE IF NOT EXISTS `categories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`slug` varchar(100) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `categories_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `categories_slug_unique` UNIQUE(`slug`)\n);\n\nCREATE TABLE IF NOT EXISTS `faqs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`question` text NOT NULL,\n\t`answer` text NOT NULL,\n\t`order` int NOT NULL DEFAULT 0,\n\t`published` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `faqs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `order_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`orderId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`productName` varchar(200) NOT NULL,\n\t`amount` varchar(20) NOT NULL,\n\t`quantity` int NOT NULL,\n\t`price` decimal(10,2) NOT NULL,\n\t`subtotal` decimal(10,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `order_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`status` enum('pending','processing','completed','cancelled') NOT NULL DEFAULT 'pending',\n\t`totalAmount` decimal(10,2) NOT NULL,\n\t`customerName` varchar(200),\n\t`customerEmail` varchar(320),\n\t`customerPhone` varchar(50),\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `product_amounts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`productId` int NOT NULL,\n\t`amount` varchar(20) NOT NULL,\n\t`price` decimal(10,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `product_amounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `products` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(200) NOT NULL,\n\t`slug` varchar(200) NOT NULL,\n\t`description` text,\n\t`fullDescription` text,\n\t`categoryId` int NOT NULL,\n\t`image` varchar(500),\n\t`gradient` varchar(100),\n\t`inStock` boolean NOT NULL DEFAULT true,\n\t`featured` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `products_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `products_slug_unique` UNIQUE(`slug`)\n);\n\nCREATE TABLE IF NOT EXISTS `reviews` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`productId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`rating` int NOT NULL,\n\t`comment` text,\n\t`approved` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `reviews_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user q8Ed9efAHcuZDzr.root --database iVAPtUQGMwL6qxGuVbNjoM --execute CREATE TABLE IF NOT EXISTS `categories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`slug` varchar(100) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `categories_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `categories_slug_unique` UNIQUE(`slug`)\n);\n\nCREATE TABLE IF NOT EXISTS `faqs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`question` text NOT NULL,\n\t`answer` text NOT NULL,\n\t`order` int NOT NULL DEFAULT 0,\n\t`published` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `faqs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `order_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`orderId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`productName` varchar(200) NOT NULL,\n\t`amount` varchar(20) NOT NULL,\n\t`quantity` int NOT NULL,\n\t`price` decimal(10,2) NOT NULL,\n\t`subtotal` decimal(10,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `order_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`status` enum('pending','processing','completed','cancelled') NOT NULL DEFAULT 'pending',\n\t`totalAmount` decimal(10,2) NOT NULL,\n\t`customerName` varchar(200),\n\t`customerEmail` varchar(320),\n\t`customerPhone` varchar(50),\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `product_amounts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`productId` int NOT NULL,\n\t`amount` varchar(20) NOT NULL,\n\t`price` decimal(10,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `product_amounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `products` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(200) NOT NULL,\n\t`slug` varchar(200) NOT NULL,\n\t`description` text,\n\t`fullDescription` text,\n\t`categoryId` int NOT NULL,\n\t`image` varchar(500),\n\t`gradient` varchar(100),\n\t`inStock` boolean NOT NULL DEFAULT true,\n\t`featured` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `products_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `products_slug_unique` UNIQUE(`slug`)\n);\n\nCREATE TABLE IF NOT EXISTS `reviews` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`productId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`rating` int NOT NULL,\n\t`comment` text,\n\t`approved` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `reviews_id` PRIMARY KEY(`id`)\n);",
  "returncode": 1,
  "logs": [
    "ERROR 8027 (HY000) at line 1: Information schema is out of date: schema failed to update in 1 lease, please make sure TiDB can connect to TiKV"
  ]
}